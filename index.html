<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üìö ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶®‡ßã‡¶ü</title>
<style>
    body {
        font-family: 'Noto Sans Bengali', sans-serif;
        background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
        margin: 0;
        padding: 0;
        color: #2f3640;
    }
    h1, h3 {
        text-align: center;
        color: #2c3e50;
        margin-bottom: 15px;
    }
    .container {
        max-width: 800px;
        margin: 40px auto;
        background: #fff;
        padding: 30px 25px;
        border-radius: 20px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        transition: all 0.3s ease-in-out;
    }
    label { font-weight: 600; margin-top: 10px; display: block; }
    select, input, textarea, button {
        width: 100%;
        margin: 10px 0;
        padding: 14px 12px;
        border-radius: 12px;
        border: 1px solid #ccc;
        font-size: 16px;
        box-sizing: border-box;
        transition: all 0.3s ease;
    }
    select:focus, input:focus, textarea:focus {
        border-color: #3498db;
        box-shadow: 0 0 8px rgba(52,152,219,0.3);
        outline: none;
    }
    textarea { resize: vertical; min-height: 120px; }
    button {
        background: linear-gradient(135deg, #3498db, #2ecc71);
        color: white;
        border: none;
        cursor: pointer;
        font-weight: bold;
        font-size: 16px;
        transition: all 0.3s ease;
    }
    button:hover {
        transform: scale(1.05);
        background: linear-gradient(135deg, #2ecc71, #3498db);
        box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    }
    .note {
        padding: 18px 15px;
        border-radius: 15px;
        margin-top: 15px;
        color: #2f3640;
        background: #f9f9f9;
        border-left: 5px solid #3498db;
        position: relative;
        transition: transform 0.2s, box-shadow 0.2s;
    }
    .note:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,0.1); }
    .meta { font-weight:bold; color: #2c3e50; margin-bottom: 5px; }
    .tag { display: inline-block; padding: 3px 10px; font-size: 12px; border-radius: 8px; margin-left: 10px; color: white; font-weight: 500; }
    .tag-test { background: #e74c3c; }
    .tag-homework { background: #f39c12; }
    .tag-lecture { background: #8e44ad; }
    #codeBox { background: #2f3640; color: #f5f6fa; padding: 15px; border-radius: 12px; font-family: monospace; white-space: pre-wrap; margin-top: 15px; display: none; overflow-x: auto; }
    #livePreview { background: #f1f2f6; padding: 15px; border-radius: 12px; margin-top: 15px; border-left: 4px dashed #3498db; }
    #livePreview h4 { margin: 0; color: #2f3640; }
    #livePreview small { color: #718093; }
    #livePreview p { margin: 5px 0 0 0; }
    .read-more { color: #3498db; cursor: pointer; font-weight: bold; font-size: 13px; }
</style>
</head>
<body>
<div class="container">

    <h1>üìö  ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶®‡ßã‡¶ü</h1>

    <label>Sort by:</label>
    <select id="sortOrder">
        <option value="desc">New </option>
        <option value="asc">Oldest </option>
    </select>

    <label>‡¶¨‡¶ø‡¶∑‡ßü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßã:</label>
    <select id="subject">
        <option value="‡¶∏‡¶¨">‡¶∏‡¶¨</option>
        <option value="‡¶∞‡¶∏‡¶æ‡ßü‡¶®">‡¶∞‡¶∏‡¶æ‡ßü‡¶®</option>
        <option value="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡ß®">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡ß®</option>
        <option value="‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡ß®">‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡ß®</option>
        <option value="‡¶™‡¶æ‡¶á‡¶•‡¶®">‡¶™‡¶æ‡¶á‡¶•‡¶®</option>
        <option value="‡¶ó‡ßç‡¶∞‡¶æ‡¶´‡¶ø‡¶ï‡ßç‡¶∏ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶®">‡¶ó‡ßç‡¶∞‡¶æ‡¶´‡¶ø‡¶ï‡ßç‡¶∏ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶®</option>
        <option value="‡¶Æ‡ßç‡¶Ø‡¶æ‡¶• ‡ß®">‡¶Æ‡ßç‡¶Ø‡¶æ‡¶• ‡ß®</option>
        <option value="‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶®‡¶ø‡¶ï‡¶∏">‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶®‡¶ø‡¶ï‡¶∏</option>
    </select>

    <label>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:</label>
    <input type="date" id="date">

    <label>‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ü‡¶æ‡¶á‡¶™ / ‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó:</label>
    <select id="tag">
        <option value="test">‡¶ü‡ßá‡¶∏‡ßç‡¶ü</option>
        <option value="homework">‡¶π‡ßã‡¶Æ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï</option>
        <option value="lecture">‡¶≤‡ßá‡¶ï‡¶ö‡¶æ‡¶∞</option>
    </select>

    <label>‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏‡ßá‡¶∞ ‡¶®‡ßã‡¶ü ‡¶≤‡¶ø‡¶ñ‡ßã:</label>
    <textarea id="note" rows="5" placeholder="‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡ßú‡¶æ ‡¶≤‡¶ø‡¶ñ...."></textarea>

    <button onclick="generateNoteCode()">üìÑ Generate Code</button>
    <button onclick="printNotes()">üñ®Ô∏è Print Notes</button>

    <div id="codeBox"></div>

    <h3>üëÄ ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â:</h3>
    <div id="livePreview"></div>

    <h3>üìÖ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§ ‡¶®‡ßã‡¶ü:</h3>
    <div id="notes"></div>
</div>

<script>
const allNotes = [
  { subject: "‡¶∞‡¶∏‡¶æ‡ßü‡¶®", date: "2025-10-23", note: "‡¶¨‡ßÉ‡¶π‡¶∏‡ßç‡¶™‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ ‡¶∞‡¶∏‡¶æ‡ßü‡¶® ‡ßß‡¶Æ ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶æ‡ßü ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶®‡¶ø‡¶¨‡ßá‡•§", tag: "test" },
  { subject: "‡¶™‡¶æ‡¶á‡¶•‡¶®", date: "2025-10-23", note: "‡ßß ‡¶•‡ßá‡¶ï‡ßá ‡ß™ ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶æ‡ßü ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü", tag: "test" },
  { subject: "‡¶™‡¶æ‡¶á‡¶•‡¶®", date: "2025-10-24", note: "while loop ‡¶∂‡ßá‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§", tag: "lecture" },
  { subject: "‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡ß®", date: "2025-10-23", note: "‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏ ‡¶∞‡¶æ‡¶á‡¶ü‡¶ø‡¶Ç how to open a bank account and environment clean", tag: "lecture" },
  { subject: "‡¶ó‡ßç‡¶∞‡¶æ‡¶´‡¶ø‡¶ï‡ßç‡¶∏ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶®", date: "2025-10-23", note: "Job 5", tag: "homework" },
  { subject: "‡¶Æ‡ßç‡¶Ø‡¶æ‡¶• ‡ß®", date: "2025-10-23", note: "‡¶ï‡ßç‡¶≤‡¶æ‡¶∏ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡ß≠‡¶Æ ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶æ‡ßü", tag: "test" },
  { subject: "‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶®‡¶ø‡¶ï‡¶∏", date: "2025-10-23", note: "‡¶ï‡ßÅ‡¶á‡¶ú ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ", tag: "test" },
];

document.getElementById('date').value = new Date().toISOString().split('T')[0];

function showNotesBySubject(subjectFilter = "‡¶∏‡¶¨") {
    const notesDiv = document.getElementById('notes');
    notesDiv.innerHTML = "";
    const sortOrder = document.getElementById('sortOrder').value;
    let filtered = allNotes.filter(n => subjectFilter === "‡¶∏‡¶¨" || n.subject === subjectFilter);
    filtered.sort((a,b) => sortOrder === "desc" ? new Date(b.date)-new Date(a.date) : new Date(a.date)-new Date(b.date));

    filtered.forEach((n, idx) => {
        let tagClass = n.tag === "test" ? "tag-test" : n.tag === "homework" ? "tag-homework" : "tag-lecture";
        let tagLabel = n.tag === "test" ? "‡¶ü‡ßá‡¶∏‡ßç‡¶ü" : n.tag === "homework" ? "‡¶π‡ßã‡¶Æ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï" : "‡¶≤‡ßá‡¶ï‡¶ö‡¶æ‡¶∞";

        // Expandable Note Logic
        const maxLength = 80;
        let noteContent = n.note;
        let isLong = noteContent.length > maxLength;
        let displayedText = isLong ? noteContent.substring(0, maxLength) + "..." : noteContent;

        notesDiv.innerHTML += `
            <div class="note" data-full="${noteContent}">
                <div class="meta">${n.date} ‚Äî ${n.subject} <span class="tag ${tagClass}">${tagLabel}</span></div>
                <div class="note-text">${displayedText}</div>
                ${isLong ? '<span class="read-more">Read more</span>' : ''}
            </div>
        `;
    });

    // Add event listeners for Read more
    document.querySelectorAll('.read-more').forEach(el => {
        el.addEventListener('click', function(){
            const parent = this.parentElement;
            const fullText = parent.getAttribute('data-full');
            const noteDiv = parent.querySelector('.note-text');
            if(this.textContent === "Read more") {
                noteDiv.textContent = fullText;
                this.textContent = "Read less";
            } else {
                noteDiv.textContent = fullText.substring(0, maxLength) + "...";
                this.textContent = "Read more";
            }
        });
    });
}

function updateLivePreview() {
    const subject = document.getElementById('subject').value;
    const date = document.getElementById('date').value;
    const note = document.getElementById('note').value.trim();
    const tag = document.getElementById('tag').value;
    const preview = document.getElementById('livePreview');

    if(!date && !note){
        preview.innerHTML = "";
        return;
    }

    let tagClass = tag === "test" ? "tag-test" : tag === "homework" ? "tag-homework" : "tag-lecture";
    let tagLabel = tag === "test" ? "‡¶ü‡ßá‡¶∏‡ßç‡¶ü" : tag === "homework" ? "‡¶π‡ßã‡¶Æ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶ï" : "‡¶≤‡ßá‡¶ï‡¶ö‡¶æ‡¶∞";

    preview.innerHTML = `
        <h4>${subject}</h4>
        <small>üìÖ ${date} <span class="tag ${tagClass}">${tagLabel}</span></small>
        <p>${note}</p>
    `;
}

function generateNoteCode() {
    const subject = document.getElementById('subject').value;
    const date = document.getElementById('date').value;
    const note = document.getElementById('note').value.trim();
    const tag = document.getElementById('tag').value;

    if(!date || !note) return alert("‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶è‡¶¨‡¶Ç ‡¶®‡ßã‡¶ü ‡¶≤‡¶ø‡¶ñ‡ßã!");

    const code = `{ subject: "${subject}", date: "${date}", note: "${note}", tag: "${tag}" },`;

    const codeBox = document.getElementById('codeBox');
    codeBox.style.display = "block";
    codeBox.textContent = code;

    navigator.clipboard.writeText(code);
    alert("‚úÖ ‡¶ï‡ßã‡¶° ‡¶§‡ßà‡¶∞‡¶ø ‡¶ì ‡¶ï‡¶™‡¶ø ‡¶π‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá! ‡¶è‡¶ñ‡¶® allNotes array-‡¶è ‡¶™‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßã‡•§");
}

function printNotes() {
    const printContents = document.getElementById('notes').innerHTML;
    const w = window.open();
    w.document.write('<html><head><title>‡¶®‡ßã‡¶ü ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü</title></head><body>');
    w.document.write(printContents);
    w.document.write('</body></html>');
    w.document.close();
    w.print();
}

const subjectInput = document.getElementById('subject');
const dateInput = document.getElementById('date');
const noteInput = document.getElementById('note');
const tagInput = document.getElementById('tag');
const sortSelect = document.getElementById('sortOrder');

subjectInput.addEventListener('input', () => { updateLivePreview(); showNotesBySubject(subjectInput.value); });
dateInput.addEventListener('input', updateLivePreview);
noteInput.addEventListener('input', updateLivePreview);
tagInput.addEventListener('input', updateLivePreview);
sortSelect.addEventListener('change', () => { showNotesBySubject(subjectInput.value); });

showNotesBySubject();
updateLivePreview();
</script>
</body>
</html>
